"use strict";(self.webpackChunkcountryApp=self.webpackChunkcountryApp||[]).push([[713],{713:(M,m,a)=>{a.r(m),a.d(m,{CountriesModule:()=>I});var r=a(6814),p=a(600),t=a(4946),y=a(6306),f=a(2096),u=a(9397),_=a(7398),C=a(9862);let h=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{countries:[]}},this.loadFromLocaleStorage()}search(e){return this.http.get(e.href).pipe((0,y.K)(i=>(0,f.of)([])))}searchByCapital(e){const i=new URL(`${this.apiUrl}/capital/${e}`);return this.search(i).pipe((0,u.b)(o=>this.cacheStore.byCapital={term:e,countries:o}),(0,u.b)(()=>this.saveToLocaleStorage()))}searchByCountry(e){const i=new URL(`${this.apiUrl}/name/${e}`);return this.search(i).pipe((0,u.b)(o=>this.cacheStore.byCountries={term:e,countries:o}),(0,u.b)(()=>this.saveToLocaleStorage()))}searchByRegion(e){const i=new URL(`${this.apiUrl}/region/${e}`);return this.search(i).pipe((0,u.b)(o=>this.cacheStore.byRegion={region:e,countries:o}),(0,u.b)(()=>this.saveToLocaleStorage()))}searchByAlphaCode(e){return this.http.get(`${this.apiUrl}/alpha/${e}`).pipe((0,_.U)(o=>o.length>0?o[0]:null),(0,y.K)(()=>(0,f.of)(null)))}saveToLocaleStorage(){localStorage.setItem("cachStore",JSON.stringify(this.cacheStore))}loadFromLocaleStorage(){const e=localStorage.getItem("cachStore");e&&(this.cacheStore=JSON.parse(e))}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(C.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["shared-loading-spinner"]],decls:15,vars:0,consts:[[1,"spinner-container"],["width","30","height","30","viewBox","0 0 45 45","xmlns","http://www.w3.org/2000/svg","stroke","#fff"],["fill","none","fill-rule","evenodd","transform","translate(1 1)","stroke-width","2"],["cx","22","cy","22","r","6","stroke-opacity","0"],["attributeName","r","begin","1.5s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","1.5s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","1.5s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["attributeName","r","begin","3s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","3s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","3s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["cx","22","cy","22","r","8"],["attributeName","r","begin","0s","dur","1.5s","values","6;1;2;3;4;5;6","calcMode","linear","repeatCount","indefinite"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2,"Buscando"),t.qZA(),t.O4$(),t.TgZ(3,"svg",1)(4,"g",2)(5,"circle",3),t._UZ(6,"animate",4)(7,"animate",5)(8,"animate",6),t.qZA(),t.TgZ(9,"circle",3),t._UZ(10,"animate",7)(11,"animate",8)(12,"animate",9),t.qZA(),t.TgZ(13,"circle",10),t._UZ(14,"animate",11),t.qZA()()()())},styles:[".spinner-container[_ngcontent-%COMP%]{align-items:center;background-color:#212529;border-radius:20px;bottom:15px;color:#fff;display:flex;padding:5px 10px;position:fixed;right:15px;box-shadow:#0006 0 2px 4px,#0000004d 0 7px 13px -3px,#0003 0 -3px inset}span[_ngcontent-%COMP%]{margin-left:5px}"]})}return n})(),Z=(()=>{class n{constructor(){this.placeholder="",this.initialValue="",this.onValue=new t.vpe}emitValue(e){e&&this.onValue.emit(e)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["shared-search-box"]],inputs:{placeholder:"placeholder",initialValue:"initialValue"},outputs:{onValue:"onValue"},decls:2,vars:2,consts:[["type","text",1,"form-control",3,"value","placeholder","keyup.enter"],["txtInput",""]],template:function(i,o){if(1&i){const c=t.EpF();t.TgZ(0,"input",0,1),t.NdJ("keyup.enter",function(){t.CHM(c);const R=t.MAs(1);return t.KtG(o.emitValue(R.value))}),t.qZA()}2&i&&t.Q6J("value",o.initialValue)("placeholder",o.placeholder)},encapsulation:2})}return n})();function v(n,s){1&n&&(t.TgZ(0,"div",2),t._uU(1," No hay paises que mostrar\n"),t.qZA())}const b=function(n){return["/countries/by",n]};function T(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td")(15,"a",6),t._uU(16,"Info"),t.qZA()()()),2&n){const e=s.$implicit,i=s.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.hij(" ",e.region," "),t.xp6(2),t.s9C("src",e.flags.svg,t.LSH),t.s9C("alt",e.name),t.xp6(2),t.hij(" ",e.name.common," "),t.xp6(2),t.hij(" ",e.capital," "),t.xp6(2),t.hij(" ",t.lcZ(13,8,e.population)," "),t.xp6(3),t.Q6J("routerLink",t.VKq(10,b,e.cca3))}}function x(n,s){if(1&n&&(t.TgZ(0,"table",3)(1,"thead")(2,"tr")(3,"th"),t._uU(4," # "),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Regi\xf3n"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Bandera"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Nombre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Capital"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Poblaci\xf3n"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Actions"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,T,17,12,"tr",4),t.qZA()()),2&n){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.countries)}}let d=(()=>{class n{constructor(){this.countries=[]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],["table",""],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["width","15",3,"src","alt"],[1,"btn","btn-primary",3,"routerLink"]],template:function(i,o){if(1&i&&(t.YNc(0,v,2,0,"div",0),t.YNc(1,x,19,1,"ng-template",null,1,t.W1O)),2&i){const c=t.MAs(2);t.Q6J("ngIf",0===o.countries.length)("ngIfElse",c)}},dependencies:[r.sg,r.O5,p.rH,r.JJ],encapsulation:2})}return n})();function A(n,s){1&n&&t._UZ(0,"shared-loading-spinner")}let U=(()=>{class n{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){const{countries:e,term:i}=this.countriesService.cacheStore.byCapital;this.countries=e,this.initialValue=i}searchByCaptial(e){this.isLoading=!0,this.countriesService.searchByCapital(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-captial-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"initialValue","onValue"],[3,"countries"],[4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Por capital"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"div",0)(4,"div",1)(5,"shared-search-box",2),t.NdJ("onValue",function(l){return o.searchByCaptial(l)}),t.qZA(),t._UZ(6,"hr"),t.qZA()(),t.TgZ(7,"div",0)(8,"div",1),t._UZ(9,"countries-table",3),t.qZA()(),t.YNc(10,A,1,0,"shared-loading-spinner",4)),2&i&&(t.xp6(5),t.Q6J("initialValue",o.initialValue),t.xp6(4),t.Q6J("countries",o.countries),t.xp6(1),t.Q6J("ngIf",o.isLoading))},dependencies:[r.O5,g,Z,d],encapsulation:2})}return n})();function q(n,s){1&n&&t._UZ(0,"shared-loading-spinner")}let B=(()=>{class n{constructor(e){this.countriesService=e,this.isLoading=!1,this.countries=[],this.initialValue=""}ngOnInit(){const{countries:e,term:i}=this.countriesService.cacheStore.byCountries;this.countries=e,this.initialValue=i}searchByCountry(e){this.isLoading=!0,this.countriesService.searchByCountry(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xeds",3,"initialValue","onValue"],[3,"countries"],[4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Por Nombre"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"div",0)(4,"div",1)(5,"shared-search-box",2),t.NdJ("onValue",function(l){return o.searchByCountry(l)}),t.qZA(),t._UZ(6,"hr"),t.qZA()(),t.TgZ(7,"div",0)(8,"div",1),t._UZ(9,"countries-table",3),t.qZA()(),t.YNc(10,q,1,0,"shared-loading-spinner",4)),2&i&&(t.xp6(5),t.Q6J("initialValue",o.initialValue),t.xp6(4),t.Q6J("countries",o.countries),t.xp6(1),t.Q6J("ngIf",o.isLoading))},dependencies:[r.O5,g,Z,d],encapsulation:2})}return n})();function S(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.searchByRegion(c))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw();t.Q6J("ngClass",i.selectedRegion===e?"btn-primary":"btn-outline-primary"),t.xp6(1),t.Oqu(e)}}function O(n,s){1&n&&t._UZ(0,"shared-loading-spinner")}let w=(()=>{class n{constructor(e){this.countriesService=e,this.isLoading=!1,this.countries=[],this.regions=["Asia","Americas","Africa","Antarctic","Europe","Oceania"]}ngOnInit(){const{region:e,countries:i}=this.countriesService.cacheStore.byRegion;this.selectedRegion=e,this.countries=i}searchByRegion(e){this.isLoading=!0,this.selectedRegion=e,this.countriesService.searchByRegion(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[4,"ngIf"],[1,"btn","mx-2",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Por regi\xf3n"),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"div",0)(4,"div",1),t.YNc(5,S,2,2,"button",2),t._UZ(6,"hr"),t.qZA()(),t.TgZ(7,"div",0)(8,"div",3),t._UZ(9,"countries-table",4),t.qZA()(),t.YNc(10,O,1,0,"shared-loading-spinner",5)),2&i&&(t.xp6(5),t.Q6J("ngForOf",o.regions),t.xp6(4),t.Q6J("countries",o.countries),t.xp6(1),t.Q6J("ngIf",o.isLoading))},dependencies:[r.mk,r.sg,r.O5,g,d],encapsulation:2})}return n})();var L=a(4664);function F(n,s){1&n&&(t.TgZ(0,"div",2),t._uU(1,"Espere porfavor"),t.qZA())}function J(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),t._uU(4,"Pa\xeds: "),t.TgZ(5,"strong"),t._uU(6),t.qZA()(),t._UZ(7,"hr"),t.qZA()(),t.TgZ(8,"div",3)(9,"div",5)(10,"h3"),t._uU(11,"Bandera"),t.qZA(),t._UZ(12,"img",6),t.qZA(),t.TgZ(13,"div",7)(14,"h3"),t._uU(15,"Informaci\xf3n"),t.qZA(),t.TgZ(16,"ul",8)(17,"li",9)(18,"strong"),t._uU(19,"Poblacion: "),t.qZA(),t._uU(20),t.ALo(21,"number"),t.qZA(),t.TgZ(22,"li",9)(23,"strong"),t._uU(24,"C\xf3digo: "),t.qZA(),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",10)(27,"div",7)(28,"h3"),t._uU(29,"Traducciones"),t.qZA(),t.TgZ(30,"div",11)(31,"span",12),t._uU(32),t.qZA(),t.TgZ(33,"span",12),t._uU(34),t.qZA(),t.TgZ(35,"span",12),t._uU(36),t.qZA(),t.TgZ(37,"span",12),t._uU(38),t.qZA(),t.TgZ(39,"span",12),t._uU(40),t.qZA(),t.TgZ(41,"span",12),t._uU(42),t.qZA(),t.TgZ(43,"span",12),t._uU(44),t.qZA(),t.TgZ(45,"span",12),t._uU(46),t.qZA(),t.TgZ(47,"span",12),t._uU(48),t.qZA(),t.TgZ(49,"span",12),t._uU(50),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(6),t.Oqu(e.country.name.common),t.xp6(6),t.s9C("src",e.country.flags.svg,t.LSH),t.s9C("alt",e.country.name.common),t.xp6(8),t.hij(" ",t.lcZ(21,15,e.country.population)," "),t.xp6(5),t.hij(" ",e.country.cca3," "),t.xp6(7),t.Oqu(e.country.translations.ara.common),t.xp6(2),t.Oqu(e.country.translations.bre.common),t.xp6(2),t.Oqu(e.country.translations.ces.common),t.xp6(2),t.Oqu(e.country.translations.cym.common),t.xp6(2),t.Oqu(e.country.translations.deu.common),t.xp6(2),t.Oqu(e.country.translations.est.common),t.xp6(2),t.Oqu(e.country.translations.fin.common),t.xp6(2),t.Oqu(e.country.translations.jpn.common),t.xp6(2),t.Oqu(e.country.translations.kor.common),t.xp6(2),t.Oqu(e.country.translations.per.common)}}const V=[{path:"by-capital",component:U},{path:"by-country",component:B},{path:"by-region",component:w},{path:"by/:id",component:(()=>{class n{constructor(e,i,o){this.activatedRoute=e,this.countriesService=i,this.router=o}ngOnInit(){this.activatedRoute.params.pipe((0,L.w)(({id:e})=>this.countriesService.searchByAlphaCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(p.gz),t.Y36(h),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(i,o){if(1&i&&(t.YNc(0,F,2,0,"ng-template",null,0,t.W1O),t.YNc(2,J,51,17,"div",1)),2&i){const c=t.MAs(1);t.xp6(2),t.Q6J("ngIf",o.country)("ngIfElse",c)}},dependencies:[r.O5,r.JJ],encapsulation:2})}return n})()},{path:"**",redirectTo:"by-capital"}];let N=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(V),p.Bz]})}return n})();var P=a(6208);let I=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[r.ez,N,P.m]})}return n})()}}]);